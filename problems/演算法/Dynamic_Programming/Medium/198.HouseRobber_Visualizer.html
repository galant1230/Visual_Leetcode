
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ  LeetCode 198: House Robber - DP è¦–è¦ºåŒ–</title>
  <style>
    body {
      font-family: 'Microsoft JhengHei', sans-serif;
      background: #f4f4f4;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      width: 100%;
      max-width: 1000px;
    }
    input {
      font-family: 'Microsoft JhengHei', sans-serif;
      font-size: 14px;
      padding: 6px;
      width: 100%;
      margin-bottom: 8px;
    }
    button {
      font-size: 14px;
      padding: 6px 12px;
      margin: 8px 4px 0 0;
    }
    .desc {
      font-size: 14px;
      margin-bottom: 12px;
      line-height: 1.6;
    }
    .house-row {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    .house {
      padding: 10px;
      width: 50px;
      height: 50px;
      background: #e0e0e0;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      line-height: 30px;
      font-size: 14px;
      position: relative;
    }
    .highlight {
      background: #4caf50 !important;
      color: white;
    }
    .dp-row {
      margin-top: 16px;
      display: flex;
      gap: 10px;
    }
    .dp-cell {
      background: #fffde7;
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 60px;
      text-align: center;
    }
    .code {
      font-family: 'Microsoft JhengHei', monospace;
      margin-top: 20px;
      background: #f1f1f1;
      padding: 10px;
      border-radius: 6px;
    }
    .code span {
      display: block;
      padding: 2px 4px;
    }
    .highlight-line {
      background: #fff59d;
    }
  </style>
</head>
<body>
<div class="container">
  <h2>ğŸ  LeetCode 198: House Robber - DP è¦–è¦ºåŒ–</h2>

  <div class="desc">
    æœ‰ä¸€æ’æˆ¿å­ï¼Œæ¯é–“æˆ¿å­å…§æœ‰ä¸åŒé‡‘é¡çš„è²¡å¯¶ã€‚ä¸èƒ½æ¶ç›¸é„°çš„å…©é–“ã€‚<br>
    è«‹æ‰¾å‡ºæœ€å¤šèƒ½æ¶å¤šå°‘éŒ¢ã€‚<br><br>
    <b>dp[i]</b> è¡¨ç¤ºæ¶åˆ°ç¬¬ i é–“æˆ¿å­æ™‚èƒ½æ¶çš„æœ€å¤§é‡‘é¡ã€‚<br>
    ç‹€æ…‹è½‰ç§»ï¼š<code>dp[i] = max(dp[i-1], dp[i-2] + nums[i])</code><br>
    æ™‚é–“è¤‡é›œåº¦ <code>O(n)</code>ï¼Œç©ºé–“è¤‡é›œåº¦ <code>O(n)</code>
  </div>

  <input id="inputNums" value="2,7,9,3,1" />
  <button onclick="start()">é–‹å§‹</button>
  <button onclick="step()">ä¸‹ä¸€æ­¥</button>

  <div class="house-row" id="houseRow"></div>
  <div class="dp-row" id="dpRow"></div>
  <div class="desc" id="explanation"></div>

  <div class="code">
    <span>def rob(nums):</span>
    <span>â€ƒif not nums: return 0</span>
    <span>â€ƒif len(nums) == 1: return nums[0]</span>
    <span>â€ƒdp = [0] * len(nums)</span>
    <span>â€ƒdp[0] = nums[0]</span>
    <span>â€ƒdp[1] = max(nums[0], nums[1])</span>
    <span>â€ƒfor i in range(2, len(nums)):</span>
    <span>â€ƒâ€ƒdp[i] = max(dp[i-1], dp[i-2] + nums[i])</span>
    <span>â€ƒreturn dp[-1]</span>
  </div>
</div>

<script>
let nums = [], dp = [], idx = 2;

function start() {
  nums = document.getElementById("inputNums").value.split(',').map(Number);
  dp = Array(nums.length).fill(0);
  idx = 2;

  const houseRow = document.getElementById("houseRow");
  houseRow.innerHTML = nums.map((v, i) => `<div class="house" id="house${i}">${v}</div>`).join('');

  const dpRow = document.getElementById("dpRow");
  dp[0] = nums[0];
  dp[1] = Math.max(nums[0], nums[1]);
  dpRow.innerHTML = dp.map((v, i) =>
    `<div class="dp-cell" id="dp${i}">${i < 2 ? v : ""}</div>`).join('');

  document.getElementById("explanation").innerText = "åˆå§‹åŒ–ï¼šdp[0] = nums[0]ï¼Œdp[1] = max(nums[0], nums[1])";

  document.querySelectorAll('.code span').forEach(e => e.classList.remove('highlight-line'));
}

function step() {
  if (idx >= nums.length) {
    document.getElementById("explanation").innerHTML = `âœ… å®Œæˆï¼æœ€å¤§é‡‘é¡ç‚º dp[${nums.length - 1}] = ${dp[nums.length - 1]}`;
    return;
  }

  const houseRow = document.getElementById("houseRow");
  for (let i = 0; i < nums.length; i++) {
    document.getElementById("house" + i).classList.remove("highlight");
  }

  document.getElementById("house" + idx).classList.add("highlight");
  document.getElementById("house" + (idx - 2)).classList.add("highlight");

  dp[idx] = Math.max(dp[idx - 1], dp[idx - 2] + nums[idx]);
  document.getElementById("dp" + idx).textContent = dp[idx];

  document.getElementById("explanation").innerText =
    `dp[${idx}] = max(dp[${idx - 1}] = ${dp[idx - 1]}, dp[${idx - 2}] + nums[${idx}] = ${dp[idx - 2]} + ${nums[idx]}) = ${dp[idx]}`;

  document.querySelectorAll('.code span').forEach(e => e.classList.remove('highlight-line'));
  document.querySelectorAll('.code span')[7].classList.add('highlight-line');
  document.querySelectorAll('.code span')[8].classList.add('highlight-line');

  idx++;
}
</script>
</body>
</html>
