<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>æœ‰æ•ˆçš„å­—æ¯é‡æ’ï¼ˆAnagramï¼‰ è¦–è¦ºåŒ–æ•™å­¸</title>
  <style>
    body { font-family: sans-serif; background: #f5f7fa; padding: 2rem; }
    h1 { text-align: center; color: #007acc; }
    .section {
      max-width: 900px; margin: 1rem auto; background: white; 
      padding: 1.5rem 2rem; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    pre {
      background: #272822; color: #f8f8f2; padding: 1rem; border-radius: 6px;
      overflow-x: auto; font-family: monospace;
    }
    .code-line { padding: 2px 0; }
    .active-code { background: #444; color: white; }
    .tips {
      background: #fef7dc; padding: 1rem; border-left: 6px solid #f1c40f; 
      border-radius: 6px; margin-top: 1rem;
    }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.75rem; text-align: center; }
    .btn-group { text-align: center; margin-top: 1rem; }
    button { background: #007acc; color: white; padding: 10px 16px; border: none; 
             border-radius: 6px; cursor: pointer; margin: 0.5rem; }
    .freq-box { 
      display: flex; justify-content: center; flex-wrap: wrap; 
      margin-top: 1rem; font-family: monospace;
    }
    .freq-item { 
      width: 30px; height: 30px; line-height: 30px; border: 1px solid #ccc; 
      margin: 2px; border-radius: 4px; text-align: center; background: #ecf0f1;
    }
  </style>
</head>
<body>

<h1>æœ‰æ•ˆçš„å­—æ¯é‡æ’ï¼ˆAnagramï¼‰ è¦–è¦ºåŒ–æ•™å­¸</h1>

<div class="section">
  <h2>å•é¡Œæè¿°</h2>
  <p>
    çµ¦å®šå…©å€‹å­—ä¸² <code>s</code> å’Œ <code>t</code>ï¼Œå¦‚æœ <code>t</code> æ˜¯ <code>s</code> çš„å­—æ¯é‡æ’ï¼ˆanagramï¼‰ï¼Œå‰‡å›å‚³ <code>true</code>ï¼Œå¦å‰‡å›å‚³ <code>false</code>ã€‚
  </p>
  <p>
    <strong>ç¯„ä¾‹ 1ï¼š</strong><br>
    Input: s = "anagram", t = "nagaram" â†’ Output: true<br>
    <strong>ç¯„ä¾‹ 2ï¼š</strong><br>
    Input: s = "rat", t = "car" â†’ Output: false
  </p>
  <p>
    é™åˆ¶æ¢ä»¶ï¼šå­—ä¸²é•·åº¦ä»‹æ–¼ 1 åˆ° 5 * 10^4ï¼Œä¸”åƒ…åŒ…å«å°å¯«è‹±æ–‡å­—æ¯ã€‚
  </p>
</div>

<div class="section">
  <h2>è§£é¡Œæ€è·¯èˆ‡äº’å‹•æ¨¡æ“¬</h2>
  <p>
    ä¸€èˆ¬è§£æ³•æœ‰å…©ç¨®ï¼š
  </p>
  <ol>
    <li><strong>æ’åºæ³•</strong>ï¼šå°‡å…©å­—ä¸²æ’åºå¾Œæ¯”è¼ƒæ˜¯å¦ç›¸åŒã€‚<br>
      æ™‚é–“è¤‡é›œåº¦ O(n log n)ï¼Œç©ºé–“è¤‡é›œåº¦ O(n)ï¼ˆæ’åºæœƒç”¢ç”Ÿæ–°é™£åˆ—ï¼‰ã€‚
    </li>
    <li><strong>è¨ˆæ•¸æ³•</strong>ï¼šåˆ©ç”¨å­—æ¯é »ç‡è¨ˆæ•¸ï¼Œå› ç‚ºåªæœ‰ 26 å€‹å­—æ¯ï¼Œå›ºå®šç©ºé–“ O(1)ï¼Œæ™‚é–“è¤‡é›œåº¦ O(n)ã€‚
    </li>
  </ol>
  <p>
    ä¸‹é¢æˆ‘å€‘ä»¥è¨ˆæ•¸æ³•ç‚ºä¾‹ï¼Œæ¨¡æ“¬è¨ˆç®—å…©å­—ä¸²å„è‡ªçš„å­—æ¯é »ç‡ï¼Œå†æ¯”è¼ƒæ˜¯å¦ç›¸ç­‰ï¼š
  </p>
  <div class="btn-group">
    <label>å­—ä¸² sï¼š<input type="text" id="inputS" value="anagram"></label>
    <label>å­—ä¸² tï¼š<input type="text" id="inputT" value="nagaram"></label>
    <button onclick="startSimulation()">é–‹å§‹æ¨¡æ“¬</button>
    <button onclick="nextStep()">ä¸‹ä¸€æ­¥</button>
  </div>
  <p id="simOutput" style="text-align:center; font-weight:bold;">æ¨¡æ“¬ç‹€æ…‹é¡¯ç¤º</p>
  <h3 style="text-align:center;">å­—æ¯é »ç‡é™£åˆ— (å›ºå®š 26 æ ¼)ï¼š</h3>
  <div>
    <h4>s çš„é »ç‡ï¼š</h4>
    <div class="freq-box" id="freqS"></div>
  </div>
  <div>
    <h4>t çš„é »ç‡ï¼š</h4>
    <div class="freq-box" id="freqT"></div>
  </div>
</div>

<div class="section">
  <h2>ç¨‹å¼ç¢¼å±•ç¤º</h2>
  <p>ä»¥ä¸‹å±•ç¤º Python èˆ‡ C çš„è§£æ³•ï¼Œä¸¦ä»¥ç¨‹å¼ç¢¼äº®åŒ–å±•ç¤ºé‡é»ï¼š</p>
  <pre id="codeBox">
# æ–¹æ³•ä¸€ï¼šæ’åºæ³•
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        return sorted(s) == sorted(t)

# æ–¹æ³•äºŒï¼šè¨ˆæ•¸æ³• (ä½¿ç”¨ Counter)
from collections import Counter
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        return Counter(s) == Counter(t)

# C èªè¨€å¯¦ä½œ (è¨ˆæ•¸æ³•)
int isAnagram(char* s, char* t) {
    if (strlen(s) != strlen(t)) return 0;
    int count_s[26] = {0};
    int count_t[26] = {0};
    for (int i = 0; s[i] != '\0'; i++) {
        count_s[s[i] - 'a']++;
        count_t[t[i] - 'a']++;
    }
    for (int i = 0; i < 26; i++) {
        if (count_s[i] != count_t[i]) return 0;
    }
    return 1;
}
  </pre>
  <div class="tips">
    ğŸ’¡ å°æŠ€å·§ï¼šè¨ˆæ•¸æ³•åˆ©ç”¨å›ºå®šå¤§å°çš„é™£åˆ—ï¼ˆ26ï¼‰å„²å­˜é »ç‡ï¼Œç©ºé–“è¤‡é›œåº¦å›ºå®šç‚º O(1)ï¼›è€Œæ’åºæ³•è¼ƒç‚ºç°¡å–®ä½†æ™‚é–“è¤‡é›œåº¦è¼ƒé«˜ã€‚
  </div>
</div>

<div class="section">
  <h2>æ™‚é–“èˆ‡ç©ºé–“è¤‡é›œåº¦ç¸½çµ</h2>
  <table>
    <tr>
      <th>è§£æ³•</th>
      <th>æ™‚é–“è¤‡é›œåº¦</th>
      <th>ç©ºé–“è¤‡é›œåº¦</th>
    </tr>
    <tr>
      <td>æ’åºæ³•</td>
      <td>O(n log n)</td>
      <td>O(n)</td>
    </tr>
    <tr>
      <td>è¨ˆæ•¸æ³•</td>
      <td>O(n)</td>
      <td>O(1)</td>
    </tr>
  </table>
</div>

<script>
// å…¨åŸŸè®Šæ•¸
let sStr = "", tStr = "";
let freqS = new Array(26).fill(0);
let freqT = new Array(26).fill(0);
let simStep = 0;

// æ›´æ–°é »ç‡é¡¯ç¤º
function updateDisplay() {
  const freqSBox = document.getElementById("freqS");
  const freqTBox = document.getElementById("freqT");
  freqSBox.innerHTML = "";
  freqTBox.innerHTML = "";
  for (let i = 0; i < 26; i++) {
    let divS = document.createElement("div");
    divS.className = "freq-item";
    divS.innerText = freqS[i];
    freqSBox.appendChild(divS);
    let divT = document.createElement("div");
    divT.className = "freq-item";
    divT.innerText = freqT[i];
    freqTBox.appendChild(divT);
  }
}

// é–‹å§‹æ¨¡æ“¬ï¼šåˆå§‹åŒ–é »ç‡é™£åˆ—
function startSimulation() {
  sStr = document.getElementById("inputS").value;
  tStr = document.getElementById("inputT").value;
  freqS = new Array(26).fill(0);
  freqT = new Array(26).fill(0);
  simStep = 0;
  updateDisplay();
  document.getElementById("simOutput").innerText = "é–‹å§‹æ¨¡æ“¬ï¼šé »ç‡é™£åˆ—åˆå§‹åŒ–å®Œæˆ";
}

// ä¸‹ä¸€æ­¥ï¼šé€æ­¥è¨ˆç®—é »ç‡ï¼ˆå…ˆè™•ç† sï¼Œå†è™•ç† tï¼‰
function nextStep() {
  if (simStep < sStr.length) {
    // è™•ç† s å­—ä¸²
    let c = sStr[simStep];
    let idx = c.charCodeAt(0) - 'a'.charCodeAt(0);
    freqS[idx]++;
    simStep++;
    document.getElementById("simOutput").innerText = `è™•ç† s[${simStep - 1}] = "${c}"`;
    updateDisplay();
  } else if (simStep < sStr.length + tStr.length) {
    // è™•ç† t å­—ä¸²
    let i = simStep - sStr.length;
    let c = tStr[i];
    let idx = c.charCodeAt(0) - 'a'.charCodeAt(0);
    freqT[idx]++;
    simStep++;
    document.getElementById("simOutput").innerText = `è™•ç† t[${i}] = "${c}"`;
    updateDisplay();
  } else {
    // æ¨¡æ“¬å®Œæˆï¼Œæª¢æŸ¥å…©é »ç‡é™£åˆ—æ˜¯å¦ç›¸ç­‰
    let isAnagram = true;
    for (let i = 0; i < 26; i++) {
      if (freqS[i] !== freqT[i]) {
        isAnagram = false;
        break;
      }
    }
    document.getElementById("simOutput").innerText = isAnagram ? 
      "æ¨¡æ“¬å®Œæˆï¼šå…©å­—ä¸²ç‚º Anagramï¼" : "æ¨¡æ“¬å®Œæˆï¼šå…©å­—ä¸²ä¸ç‚º Anagramï¼";
  }
}
</script>

</body>
</html>
